<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- SEO Meta Tags -->
    <title>혹한기 신기지 실전 공략 가이드 | Fly Fishing Archive</title>
    <meta name="description" content="혹한기 신기지 저수지 플라이낚시 실전 공략법. 작게, 느리게, 자주 바꾸는 테크닉 중심 전략 가이드.">
    <meta name="keywords" content="플라이낚시, 신기지, 혹한기, 저수지낚시, 플라이타잉, 님핑, 인디케이터">
    <meta name="author" content="낚시대장 (Jeff)">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="혹한기 신기지 실전 공략 가이드">
    <meta property="og:description" content="작게, 느리게, 자주 바꾸기 - 혹한기 테크닉 싸움의 정수">
    <meta property="og:site_name" content="Fly Tying Archive">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://unpkg.com">
    
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            touch-action: pan-y pinch-zoom;
        }
        
        .card-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .nav-btn {
            cursor: pointer;
            z-index: 100;
            position: relative;
            touch-action: manipulation;
        }
        
        .nav-btn:active {
            transform: scale(0.9);
        }
        
        .nav-btn:focus-visible {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        i[data-lucide] {
            pointer-events: none;
        }
        
        #card-body {
            cursor: pointer;
            touch-action: manipulation;
        }
        
        .dot-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* 슬라이드 애니메이션 */
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .slide-in-right {
            animation: slideInRight 0.3s ease-out;
        }
        
        .slide-in-left {
            animation: slideInLeft 0.3s ease-out;
        }
        
        /* 로딩 상태 */
        .loading {
            opacity: 0.5;
            pointer-events: none;
        }
        
        /* 프린트 최적화 */
        @media print {
            body {
                background: white;
            }
            .nav-btn, #bottom-dots, #top-progress {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Header -->
    <header class="mb-6 text-center" role="banner">
        <h1 class="text-2xl font-black tracking-tight text-blue-600 flex items-center justify-center gap-2">
            <i data-lucide="wind" class="w-7 h-7" aria-hidden="true"></i> 
            <span>혹한기 신기지 마스터 가이드</span>
        </h1>
        <p class="text-slate-500 text-sm mt-1 font-medium italic">Master Naksi-daejang Edition (by Jeff)</p>
    </header>

    <!-- Main Card Container -->
    <main role="main" class="w-full max-w-sm flex flex-col gap-6">
        <article 
            id="card-container" 
            class="relative w-full aspect-[4/5] rounded-[2.5rem] shadow-xl border-2 flex flex-col card-transition overflow-hidden"
            aria-live="polite"
            aria-atomic="true"
        >
            
            <!-- Progress Bar (Top) -->
            <div id="top-progress" class="w-full h-1 bg-black/5" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="10">
                <div id="progress-fill" class="h-full bg-blue-500 transition-all duration-500" style="width: 10%"></div>
            </div>

            <!-- Card Content Area -->
            <div id="card-body" class="flex-1 px-8 py-6 flex flex-col items-center justify-center text-center" tabindex="0" role="button" aria-label="다음 카드로 이동">
                <div id="icon-container" class="mb-4 p-4 bg-white rounded-3xl shadow-sm border border-white" aria-hidden="true">
                    <i id="card-icon" class="w-10 h-10"></i>
                </div>
                
                <h2 id="card-title" class="text-xl font-black mb-1"></h2>
                <p id="card-subtitle" class="text-slate-600 font-bold mb-5 text-sm"></p>
                
                <div id="card-items" class="w-full space-y-2"></div>
            </div>

            <!-- Bottom Pagination Dots (Inside Card) -->
            <div class="px-8 pb-6 pt-2 flex justify-center">
                <div id="bottom-dots" class="flex gap-1.5" role="tablist" aria-label="페이지 표시"></div>
            </div>
        </article>

        <!-- Navigation Controls (Outside Card) -->
        <nav class="flex flex-col items-center gap-3" aria-label="카드 네비게이션">
            <!-- Page Number Display -->
            <div class="flex flex-col items-center" aria-live="polite">
                <span id="page-number" class="text-lg font-black text-slate-800">1</span>
                <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none">of 10</span>
            </div>

            <!-- Text Navigation Buttons -->
            <div class="w-full flex justify-center items-center gap-3">
                <button 
                    id="prev-btn" 
                    class="nav-btn px-6 py-3 bg-white/90 rounded-xl shadow-md border border-slate-200 hover:bg-slate-50 active:bg-slate-100 transition-all"
                    aria-label="이전 카드"
                    type="button"
                >
                    <span class="text-sm font-bold text-slate-700 uppercase tracking-wider">Previous</span>
                </button>
                
                <span class="text-slate-300 font-bold text-lg">|</span>

                <button 
                    id="next-btn" 
                    class="nav-btn px-6 py-3 bg-white/90 rounded-xl shadow-md border border-slate-200 hover:bg-slate-50 active:bg-slate-100 transition-all"
                    aria-label="다음 카드"
                    type="button"
                >
                    <span class="text-sm font-bold text-slate-700 uppercase tracking-wider">Next</span>
                </button>
            </div>
        </nav>

        <!-- Final Alert -->
        <aside 
            id="final-alert" 
            class="mt-6 p-4 bg-emerald-600 text-white rounded-2xl w-full shadow-lg transition-all transform scale-0 opacity-0 text-center"
            role="alert"
            aria-live="assertive"
        >
            <p class="text-xs font-bold leading-relaxed">
                혹한기 신기지는 테크닉 싸움입니다.<br>작게, 느리게, 자주 바꾸세요!
            </p>
        </aside>
    </main>

    <!-- Footer Help -->
    <footer class="mt-8 text-center px-6" role="contentinfo">
        <p class="text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] leading-relaxed mb-2">
            Strategy: SMALL • SLOW • ROTATE • TIMING
        </p>
        <p class="text-[9px] text-slate-300 font-medium italic">카드, Previous/Next 버튼, 키보드(←/→/Space)로 이동 | 스와이프 지원</p>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        // 카드 데이터
        const cards = [
            {
                title: "01. 혹한기 상황 인식",
                icon: "snowflake",
                subtitle: "조건을 맞춰야만 문다!",
                content: [
                    { label: "환경", value: "기온 -10~-6℃ / 수온 2℃ 이하" },
                    { label: "활성도", value: "전반적으로 낮으나 분명히 존재함" },
                    { label: "핵심", value: "크고 빠르고 자극적인 것엔 반응 불가" },
                    { label: "결론", value: "안 문다가 아니라 조건을 맞춰야 함" }
                ],
                style: "from-blue-50 to-blue-100 border-blue-200 text-blue-700 icon-blue-500"
            },
            {
                title: "02. 플라이 운영 기본 원칙",
                icon: "target",
                subtitle: "작게 · 느리게 · 다양하게",
                content: [
                    { label: "사이즈", value: "#18 이하 (거부감↓ 입질 강도↑)" },
                    { label: "티펫", value: "5X 이하 권장 (굵은 티펫 즉각 거부)" },
                    { label: "환경", value: "맑은 물색 + 낮은 활성도 대응 필수" },
                    { label: "액션", value: "최소한의 움직임으로 호기심 유발" }
                ],
                style: "from-rose-50 to-rose-100 border-rose-200 text-rose-700 icon-rose-500"
            },
            {
                title: "03. 색상 전략: 무채색",
                icon: "palette",
                subtitle: "혹한기의 답은 '무채색'",
                content: [
                    { label: "유리", value: "화이트 / 블랙 계열 주력" },
                    { label: "장점", value: "자극 적음, 경계심 감소, 대비 우수" },
                    { label: "피해야 할 조건", value: "강한 유채색 및 과도한 어필 컬러" },
                    { label: "인식률", value: "저광량에서도 형태가 뚜렷하게 인식됨" }
                ],
                style: "from-slate-100 to-slate-200 border-slate-300 text-slate-700 icon-gray-600"
            },
            {
                title: "04. 인디케이터 님핑 핵심",
                icon: "zap",
                subtitle: "입질의 70~80%가 발생하는 순간",
                content: [
                    { label: "골든 타임", value: "폴링 종료 후 눈앞에서 '멈출 때'" },
                    { label: "심리", value: "안전한 은신처에 나타난 먹이로 인식" },
                    { label: "운용", value: "아주 짧고 느리게, 반드시 멈춤 포함" },
                    { label: "금기", value: "과도한 이동 거리 및 속도는 즉각 거부" }
                ],
                style: "from-amber-50 to-amber-100 border-amber-200 text-amber-700 icon-amber-500"
            },
            {
                title: "05. 느린 스위밍의 위력",
                icon: "refresh-cw",
                subtitle: "천천히 먹는 상황을 연출하라",
                content: [
                    { label: "구성", value: "작은 플라이 + 아주 느린 스위밍" },
                    { label: "액션", value: "짧고 간결한 스트립 후 긴 스테이" },
                    { label: "효과", value: "저활성에도 의외로 강한 입질 유도" },
                    { label: "인식", value: "도망가지 않는 쉬운 먹이감으로 어필" }
                ],
                style: "from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-700 icon-emerald-500"
            },
            {
                title: "06. 송어의 학습력 대응",
                icon: "search",
                subtitle: "절대 과소평가 금물!",
                content: [
                    { label: "함정", value: "한두 마리 랜딩 후 주변 경계심 급증" },
                    { label: "캐스팅", value: "동일 자리 반복 X, 랜덤 캐스팅 O" },
                    { label: "패턴 교체", value: "색상, 실루엣, 크기, 무게 수시 변경" },
                    { label: "경고", value: "한 패턴 고집 = 실패 확률 급상승" }
                ],
                style: "from-purple-50 to-purple-100 border-purple-200 text-purple-700 icon-purple-500"
            },
            {
                title: "07. 신기지 포인트 선정",
                icon: "map-pin",
                subtitle: "지형과 수심 변화의 이해",
                content: [
                    { label: "수심 급변", value: "상류~중간 부교 (1.5 ~ 4.5m)" },
                    { label: "주요 포인트", value: "새물 유입부, 코너, 가두리, 브레이크" },
                    { label: "특성", value: "전층 분포 X, 군집 위치가 시시각각 변화" },
                    { label: "환경", value: "그늘과 양지가 극명하게 나뉘는 구조" }
                ],
                style: "from-orange-50 to-orange-100 border-orange-200 text-orange-700 icon-orange-600"
            },
            {
                title: "08. 포인트 공략법 구분",
                icon: "target",
                subtitle: "대상 개체에 따른 차별화",
                content: [
                    { label: "사이드 공략", value: "휴식 개체, 얕은 연안 (섬세한 접근)" },
                    { label: "물골/심층", value: "회유 개체 밀집, 경계심 상대적 낮음" },
                    { label: "시야", value: "맑은 물색으로 사이드 개체 확인 가능" },
                    { label: "방법", value: "심층은 님핑, 사이드는 사이트 피싱" }
                ],
                style: "from-teal-50 to-teal-100 border-teal-200 text-teal-700 icon-teal-600"
            },
            {
                title: "09. 시간대별 활성 변화",
                icon: "clock",
                subtitle: "시간 + 포인트 결합 전략",
                content: [
                    { label: "오전~11시", value: "저활성 유지 (정교한 님핑 집중)" },
                    { label: "11시 전후", value: "수온 상승과 함께 활동성 회복" },
                    { label: "15시 이후", value: "산 그늘 형성 시점 (활성 급상승)" },
                    { label: "필승 포인트", value: "오후엔 관리소 앞~상류 그늘 공략" }
                ],
                style: "from-indigo-50 to-indigo-100 border-indigo-200 text-indigo-700 icon-indigo-600"
            },
            {
                title: "10. 최종 요약 (The Essence)",
                icon: "check-circle-2",
                subtitle: "낚시대장님을 위한 한 줄 평",
                content: [
                    { label: "정수", value: "혹한기 신기지는 '테크닉 싸움'이다" },
                    { label: "핵심", value: "작게, 느리게, 자주 바꾸기" },
                    { label: "타이밍", value: "폴링 종료 순간에 집중" },
                    { label: "전략", value: "군집과 시간 흐름을 읽는 낚시" }
                ],
                style: "from-emerald-100 to-emerald-200 border-emerald-300 text-emerald-800 icon-emerald-600"
            }
        ];

        // 상태 관리
        let currentIdx = 0;
        let direction = 'next';
        let touchStartX = 0;
        let touchEndX = 0;

        // 카드 렌더링
        const renderCard = (animate = true) => {
            const card = cards[currentIdx];
            
            const container = document.getElementById('card-container');
            const icon = document.getElementById('card-icon');
            const title = document.getElementById('card-title');
            const subtitle = document.getElementById('card-subtitle');
            const items = document.getElementById('card-items');
            const pageNum = document.getElementById('page-number');
            const bottomDots = document.getElementById('bottom-dots');
            const progressFill = document.getElementById('progress-fill');
            const progressBar = document.getElementById('top-progress');
            const finalAlert = document.getElementById('final-alert');

            // 스타일 적용
            const [bgFrom, bgTo, border, text, iconColor] = card.style.split(' ');
            container.className = `relative w-full aspect-[4/5] rounded-[2.5rem] shadow-xl border-2 flex flex-col card-transition overflow-hidden bg-gradient-to-br ${bgFrom} ${bgTo} ${border}`;
            
            if (animate) {
                container.classList.add(direction === 'next' ? 'slide-in-right' : 'slide-in-left');
                setTimeout(() => {
                    container.classList.remove('slide-in-right', 'slide-in-left');
                }, 300);
            }
            
            // 콘텐츠 업데이트
            title.innerText = card.title;
            title.className = `text-xl font-black mb-1 ${text}`;
            subtitle.innerText = `"${card.subtitle}"`;
            pageNum.innerText = currentIdx + 1;
            
            icon.setAttribute('data-lucide', card.icon);
            icon.className = `w-10 h-10 ${iconColor.replace('icon-', 'text-')}`;
            
            items.innerHTML = card.content.map(item => `
                <div class="flex flex-col items-center bg-white/70 backdrop-blur-sm rounded-xl p-2.5 border border-white/50 shadow-sm">
                    <span class="text-[10px] uppercase tracking-wider font-bold opacity-60 mb-0.5">${item.label}</span>
                    <span class="text-sm font-bold text-slate-800 leading-tight">${item.value}</span>
                </div>
            `).join('');

            // 하단 도트 업데이트
            bottomDots.innerHTML = cards.map((_, i) => `
                <div 
                    class="h-1.5 rounded-full dot-transition ${i === currentIdx ? 'w-6 bg-slate-800' : 'w-1.5 bg-slate-400/50'}"
                    role="tab"
                    aria-selected="${i === currentIdx}"
                    aria-label="카드 ${i + 1}"
                ></div>
            `).join('');

            // 진행바 업데이트
            const progress = ((currentIdx + 1) / cards.length) * 100;
            progressFill.style.width = `${progress}%`;
            progressBar.setAttribute('aria-valuenow', Math.round(progress));

            // 마지막 카드 알림
            if (currentIdx === cards.length - 1) {
                finalAlert.classList.remove('scale-0', 'opacity-0');
                finalAlert.classList.add('scale-100', 'opacity-100');
                setTimeout(() => {
                    finalAlert.classList.add('animate-bounce');
                }, 100);
            } else {
                finalAlert.classList.add('scale-0', 'opacity-0');
                finalAlert.classList.remove('scale-100', 'opacity-100', 'animate-bounce');
            }

            // 아이콘 렌더링
            if (window.lucide) {
                lucide.createIcons();
            }
        };

        // 네비게이션 함수
        const goNext = () => {
            direction = 'next';
            currentIdx = (currentIdx + 1) % cards.length;
            renderCard();
        };

        const goPrev = () => {
            direction = 'prev';
            currentIdx = (currentIdx - 1 + cards.length) % cards.length;
            renderCard();
        };

        // 터치/스와이프 핸들러
        const handleTouchStart = (e) => {
            touchStartX = e.changedTouches[0].screenX;
        };

        const handleTouchEnd = (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        };

        const handleSwipe = () => {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    goNext(); // 왼쪽 스와이프 -> 다음
                } else {
                    goPrev(); // 오른쪽 스와이프 -> 이전
                }
            }
        };

        // 초기화
        const init = () => {
            renderCard(false);

            // 버튼 이벤트
            document.getElementById('next-btn').addEventListener('click', (e) => {
                e.stopPropagation();
                goNext();
            });

            document.getElementById('prev-btn').addEventListener('click', (e) => {
                e.stopPropagation();
                goPrev();
            });

            // 카드 클릭
            document.getElementById('card-body').addEventListener('click', () => {
                goNext();
            });

            // 터치 이벤트
            const cardBody = document.getElementById('card-body');
            cardBody.addEventListener('touchstart', handleTouchStart, { passive: true });
            cardBody.addEventListener('touchend', handleTouchEnd, { passive: true });

            // 키보드 이벤트
            window.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    goNext();
                }
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    goPrev();
                }
                if (e.key === 'Home') {
                    e.preventDefault();
                    currentIdx = 0;
                    renderCard();
                }
                if (e.key === 'End') {
                    e.preventDefault();
                    currentIdx = cards.length - 1;
                    renderCard();
                }
            });
        };

        // DOM 준비 완료 후 초기화
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>

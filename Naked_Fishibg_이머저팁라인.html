
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naked Fishing Strategy</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #222;
            font-family: 'Noto Sans KR', sans-serif;
            color: white;
        }
        h2 {
            margin: 10px 0;
            color: #ffcc00;
        }
        canvas {
            background: linear-gradient(to bottom, #87CEEB 0%, #87CEEB 30%, #2F4F4F 30%, #1a2e2e 100%);
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            border-radius: 8px;
            max-width: 100%;
        }
        .controls {
            margin-top: 10px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #ff9900;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover {
            background-color: #e68a00;
        }
        .legend {
            margin-top: 10px;
            font-size: 14px;
            color: #ddd;
            text-align: left;
            width: 800px;
            display: flex;
            justify-content: space-between;
        }
    </style>
</head>
<body>

    <h2>ğŸ£ ë‚šì‹œëŒ€ì¥ì˜ Naked Fishing Strategy</h2>
    <canvas id="fishingCanvas" width="800" height="500"></canvas>
    
    <div class="controls">
        <button onclick="resetAnimation()">â–¶ ìºìŠ¤íŒ… & ì•¡ì…˜ ì‹œì‘ (Replay)</button>
    </div>

    <div class="legend">
        <div>
            <strong>[ì±„ë¹„ êµ¬ì„±]</strong><br>
            ğŸ£ <strong>ROD:</strong> Sage DS2 690-2 (#6)<br>
            ğŸ§µ <strong>LINE:</strong> SA Emerger Tip (WF-6-F/I)<br>
            ğŸ”— <strong>LEADER:</strong> 15ft Fluorocarbon (4X+4.5X)<br>
            ğŸª° <strong>FLY:</strong> 2.5mm Tungsten (Leech/Pupa)
        </div>
        <div>
            <strong>[í•„ë“œ & ì•¡ì…˜]</strong><br>
            ğŸŒŠ <strong>MAX DEPTH:</strong> 4.2m<br>
            â±ï¸ <strong>COUNT:</strong> 20ì´ˆ (ë°”ë‹¥ì¸µ ë„ë‹¬)<br>
            âœ‹ <strong>ACTION:</strong> 8ì í•œ ê¼¬ì§‘ (ìˆ˜í‰ ìœ ì˜)<br>
            ğŸ¯ <strong>TARGET:</strong> 4mê¶Œ ë°”ë‹¥ì¸µ
        </div>
    </div>

    <script>
        const canvas = document.getElementById('fishingCanvas');
        const ctx = canvas.getContext('2d');

        // ìƒíƒœ ë³€ìˆ˜
        let animationState = 'cast'; // cast, sink, retrieve
        let timer = 0;
        let castProgress = 0;
        let sinkProgress = 0;
        let retrieveProgress = 0;
        let flyX = 100;
        let flyY = 150; // ìˆ˜ë©´
        
        // ìƒìˆ˜
        const WATER_LEVEL = 150;
        const BOTTOM_LEVEL = 450; // 4.2m ë°”ë‹¥
        const CAST_DISTANCE = 600;
        const SINK_TIME_LIMIT = 20; // 20ì¹´ìš´íŠ¸

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // 1. ë°°ê²½ ê·¸ë¦¬ê¸° (ë¬¼ì† ë‹¨ë©´)
            drawBackground();

            // 2. ë‚šì‹œê¾¼ ê·¸ë¦¬ê¸°
            drawFisherman();

            // 3. ì• ë‹ˆë©”ì´ì…˜ ë¡œì§
            if (animationState === 'cast') {
                updateCast();
            } else if (animationState === 'sink') {
                updateSink();
            } else if (animationState === 'retrieve') {
                updateRetrieve();
            }

            // 4. ë¼ì¸ ë° í”Œë¼ì´ ê·¸ë¦¬ê¸°
            drawGear();

            requestAnimationFrame(draw);
        }

        function drawBackground() {
            // ìˆ˜ì‹¬ ëˆˆê¸ˆ
            ctx.fillStyle = "rgba(255, 255, 255, 0.2)";
            ctx.font = "12px Arial";
            ctx.fillText("ìˆ˜ë©´ (0m)", 720, WATER_LEVEL - 5);
            
            ctx.beginPath();
            ctx.strokeStyle = "rgba(255, 255, 255, 0.1)";
            ctx.moveTo(0, WATER_LEVEL + 75); // ì•½ 1m
            ctx.lineTo(800, WATER_LEVEL + 75);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(0, WATER_LEVEL + 150); // ì•½ 2m
            ctx.lineTo(800, WATER_LEVEL + 150);
            ctx.stroke();
            ctx.fillText("2.0m", 750, WATER_LEVEL + 150 - 5);

            ctx.beginPath();
            ctx.moveTo(0, WATER_LEVEL + 300); // ì•½ 4m
            ctx.lineTo(800, WATER_LEVEL + 300);
            ctx.stroke();
            ctx.fillText("4.0m", 750, WATER_LEVEL + 300 - 5);

            // ë°”ë‹¥
            ctx.fillStyle = "#3e2723";
            ctx.fillRect(0, BOTTOM_LEVEL, 800, 50);
            ctx.fillStyle = "#a1887f";
            ctx.fillText("ë°”ë‹¥ (4.2m)", 720, BOTTOM_LEVEL - 5);

            // ì†¡ì–´ë“¤
            drawFish(600, 400);
            drawFish(450, 420);
        }

        function drawFish(x, y) {
            ctx.fillStyle = "#CD853F";
            ctx.beginPath();
            ctx.ellipse(x, y, 15, 6, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.moveTo(x + 15, y);
            ctx.lineTo(x + 22, y - 5);
            ctx.lineTo(x + 22, y + 5);
            ctx.fill();
        }

        function drawFisherman() {
            ctx.fillStyle = "#333";
            // ëª¸í†µ
            ctx.fillRect(50, 80, 20, 70);
            // ë¨¸ë¦¬
            ctx.beginPath();
            ctx.arc(60, 70, 10, 0, Math.PI * 2);
            ctx.fill();
            // ë¡œë“œ
            ctx.strokeStyle = "#000";
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(60, 100);
            ctx.lineTo(120, 50); // ë¡œë“œ íŒ
            ctx.stroke();
        }

        function updateCast() {
            castProgress += 15;
            flyX = 120 + castProgress;
            flyY = WATER_LEVEL; // ìˆ˜ë©´ ìœ„ë¥¼ ë‚ ì•„ê°
            
            if (flyX >= CAST_DISTANCE) {
                flyX = CAST_DISTANCE;
                animationState = 'sink';
                timer = 0;
            }
        }

        function updateSink() {
            if (timer < SINK_TIME_LIMIT) {
                timer += 0.1; // íƒ€ì´ë¨¸ ì†ë„ ì¡°ì ˆ
                // í”Œë¼ì´ ì¹¨ê°• (ë°”ë‹¥ ê·¼ì²˜ê¹Œì§€)
                let maxSinkDepth = BOTTOM_LEVEL - 20; // ë°”ë‹¥ ì‚´ì§ ìœ„
                let progress = timer / SINK_TIME_LIMIT;
                flyY = WATER_LEVEL + (maxSinkDepth - WATER_LEVEL) * progress;
            } else {
                animationState = 'retrieve';
            }
        }

        function updateRetrieve() {
            if (flyX > 150) {
                flyX -= 1.0; // ì•„ì£¼ ëŠë¦° ë¦¬íŠ¸ë¦¬ë¸Œ
                // ìˆ˜ì‹¬ ìœ ì§€ (ìˆ˜í‰ ìœ ì˜)
                // ì•½ê°„ì˜ ì›¨ì´ë¸Œ íš¨ê³¼ (8ì ê¼¬ì§‘ê¸° ì•¡ì…˜)
                flyY = (BOTTOM_LEVEL - 20) + Math.sin(flyX * 0.1) * 2; 
            } else {
                // ë¦¬íŠ¸ë¦¬ë¸Œ ë -> ë‹¤ì‹œ ìºìŠ¤íŒ… ëŒ€ê¸°
            }
        }

        function drawGear() {
            // 1. ë©”ì¸ ë¼ì¸ (SA Emerger Tip - ì˜¤ë Œì§€/ì˜¬ë¦¬ë¸Œ)
            ctx.beginPath();
            ctx.strokeStyle = "#FF8C00"; // ì˜¤ë Œì§€ìƒ‰ ëŸ¬ë‹ë¼ì¸/ë²¨ë¦¬
            ctx.lineWidth = 2;
            ctx.moveTo(120, 50); // ë¡œë“œ íŒ

            // ë¼ì¸ì´ ìˆ˜ë©´ì— ë‹¿ëŠ” ì§€ì  ê³„ì‚°
            let lineWaterEntry = 250; 
            
            // ìºìŠ¤íŒ… ì¤‘ì¼ ë•Œ
            if (animationState === 'cast') {
                ctx.lineTo(flyX, 50); // ê³µì¤‘ ë¹„í–‰
            } 
            // ì°©ìˆ˜ í›„
            else {
                ctx.quadraticCurveTo(150, 120, lineWaterEntry, WATER_LEVEL);
                ctx.stroke();

                // ìˆ˜ë©´ ìœ„ í”Œë¡œíŒ… ë¶€ë¶„ (ì˜¬ë¦¬ë¸Œ)
                ctx.beginPath();
                ctx.strokeStyle = "#808000"; // ì˜¬ë¦¬ë¸Œ
                // íŒ ì‹±í‚¹ ì‹œì‘ ì§€ì  (í”Œë¼ì´ ìª½ì—ì„œ ì•½ 1.5m ì „)
                // ì‹œê°í™”ë¥¼ ìœ„í•´ ë¹„ìœ¨ ì¡°ì •
                let tipStart = flyX - (flyX - lineWaterEntry) * 0.2; 
                ctx.moveTo(lineWaterEntry, WATER_LEVEL);
                ctx.lineTo(tipStart, WATER_LEVEL);
                ctx.stroke();

                // 2. Emerger Tip (íˆ¬ëª…/ê°€ë¼ì•‰ëŠ” ë¶€ë¶„) + ë¦¬ë”
                // íŒë¶€í„° í”Œë¼ì´ê¹Œì§€ ì§ì„ ìœ¼ë¡œ ì—°ê²° (í…ì…˜ ìœ ì§€)
                ctx.beginPath();
                ctx.strokeStyle = "rgba(200, 255, 255, 0.6)"; // íˆ¬ëª…/í•˜ëŠ˜ìƒ‰ (ë¦¬ë”+íŒ)
                ctx.lineWidth = 1;
                ctx.setLineDash([2, 2]); // ë¦¬ë”ëŠ” ì–‡ê²Œ ì ì„  ëŠë‚Œ
                ctx.moveTo(tipStart, WATER_LEVEL); // íŒ ì‹œì‘
                ctx.lineTo(flyX, flyY); // í”Œë¼ì´ ìœ„ì¹˜
                ctx.stroke();
                ctx.setLineDash([]);
            }

            // 3. í”Œë¼ì´ (í……ìŠ¤í… ë¹„ë“œ)
            ctx.fillStyle = "#FF0000"; // í¬ì¸íŠ¸ ì»¬ëŸ¬
            ctx.beginPath();
            ctx.arc(flyX, flyY, 4, 0, Math.PI * 2);
            ctx.fill();

            // 4. ì •ë³´ í…ìŠ¤íŠ¸ í‘œì‹œ
            ctx.fillStyle = "white";
            ctx.font = "bold 16px Arial";
            
            if (animationState === 'sink') {
                ctx.fillStyle = "#FFFF00";
                ctx.fillText(`â±ï¸ ì¹´ìš´íŠ¸ë‹¤ìš´: ${Math.floor(timer)} / 20ì´ˆ`, 350, 100);
                ctx.fillText("â–¼ ì¹¨ê°• ì¤‘ (Free Fall)", flyX + 10, flyY);
            } else if (animationState === 'retrieve') {
                ctx.fillStyle = "#00FFFF";
                ctx.fillText("âœ‹ 8ì ë¦¬íŠ¸ë¦¬ë¸Œ ì¤‘ (ìˆ˜í‰ ìœ ì˜)", 350, 100);
                ctx.fillText("â—€ ì€ë°€í•œ ìˆ˜í‰ ì´ë™", flyX + 10, flyY);
                
                // ì»¨íƒíŠ¸ í‘œì‹œ
                ctx.fillStyle = "#FF9999";
                ctx.font = "12px Arial";
                ctx.fillText("âš¡ íŒ½íŒ½í•œ í…ì…˜ (ì…ì§ˆ ê°ì§€)", 200, 200);
            }
        }

        // ì´ˆê¸° ì‹¤í–‰
        draw();

        function resetAnimation() {
            animationState = 'cast';
            timer = 0;
            castProgress = 0;
            flyX = 100;
        }

    </script>
</body>
</html>